#!/usr/bin/env node
'use strict';

process.title = 'ALKS';

var program = require('commander'),
    clc     = require('cli-color'),
    _       = require('underscore'),
    config  = require('../package.json'),
    utils   = require('../lib/utils'),
    Account = require('../lib/account');

program
    .version(config.version)
    .description('stores password')
    .parse(process.argv);

Account.getPasswordFromPrompt(function(err, password){
    Account.storePassword(password, function(err, saved){
        if(!saved){
            utils.passwordSaveErrorHandler(err);
        }
        else{
            console.error(clc.white('Password saved!'));
        }
    });

    utils.checkForUpdate();
});